connector:
  - id: crononome
    type: crononome
    config:
      entries:
        - name: test
          expr: "* * * * * *"
          payload: {"snot": "badger" }
  - id: file
    type: file
    codec: json
    postprocessors:
      - lines
    config:
      path: out.log
      mode: truncate
  - id: exit
    type: exit

binding:
  - id: "main"
    links:
      "/connector/crononome/{instance}/out": [ "/pipeline/main/{instance}/in", "/pipeline/exit/{instance}/in" ]
      "/pipeline/main/{instance}/out":  [ "/connector/file/{instance}/in"]
      "/pipeline/exit/{instance}/out":  [ "/connector/exit/{instance}/in"]

mapping:
  /binding/main/01:
    instance: "01"
