use std::array;

define tumbling window by_two
with
  size = 2
end;

define tumbling window by_four
with
  size = 4
end;

aggregate collect_sum of
    init() =>
        0

    aggregate(st, x) =>
        st + x

    mergein(st, x) =>
        st + x

    emit(st) =>
        st
end;

select collect_sum(event) from in[by_two, by_four] into out;
