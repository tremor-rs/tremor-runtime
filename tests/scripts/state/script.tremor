#emit state;
#emit state.count;

#let state.test = "hello";
#let state = ["hello"];
#let state = {"snot": "badger"};
#emit state;
#emit state.snot;

# TODO finish test implementation here

match state of
  case %{present count} =>
    let state.count = state.count + 1
  default =>
    let state.count = 1
end;

# simulates what the generic::counter operator does
{
  "count": state.count,
  "event": event
}
